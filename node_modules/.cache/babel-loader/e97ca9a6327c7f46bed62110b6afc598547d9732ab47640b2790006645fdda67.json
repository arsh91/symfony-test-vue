{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"Fruits\", -1 /* HOISTED */);\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = {\n  key: 1\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"name\"\n}, \"Filter by name:\", -1 /* HOISTED */);\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"family\"\n}, \"Filter by family:\", -1 /* HOISTED */);\nconst _hoisted_6 = {\n  key: 0\n};\nconst _hoisted_7 = {\n  key: 1\n};\nconst _hoisted_8 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, $data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, \"Loading...\")) : (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"div\", null, [_hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"name\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.filters.name = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.filters.name]])]), _createElementVNode(\"div\", null, [_hoisted_5, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"family\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.filters.family = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.filters.family]])]), $data.fruits.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, \" No fruits found \")) : (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.fruits, fruit => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: fruit.id\n    }, [_createElementVNode(\"h3\", null, _toDisplayString(fruit.name), 1 /* TEXT */), _createElementVNode(\"div\", null, \"Family: \" + _toDisplayString(fruit.family), 1 /* TEXT */), _createElementVNode(\"div\", null, \"Order: \" + _toDisplayString(fruit.order), 1 /* TEXT */), _createElementVNode(\"div\", null, \"Genus: \" + _toDisplayString(fruit.genus), 1 /* TEXT */), _createElementVNode(\"div\", null, [_createTextVNode(\" Nutritions: \"), _createElementVNode(\"ul\", null, [_createElementVNode(\"li\", null, \"Calories: \" + _toDisplayString(fruit.nutritions.calories), 1 /* TEXT */), _createElementVNode(\"li\", null, \"Fat: \" + _toDisplayString(fruit.nutritions.fat), 1 /* TEXT */), _createElementVNode(\"li\", null, \"Sugar: \" + _toDisplayString(fruit.nutritions.sugar), 1 /* TEXT */), _createElementVNode(\"li\", null, \"Carbohydrates: \" + _toDisplayString(fruit.nutritions.carbohydrates), 1 /* TEXT */), _createElementVNode(\"li\", null, \"Protein: \" + _toDisplayString(fruit.nutritions.protein), 1 /* TEXT */)])]), _createElementVNode(\"button\", {\n      onClick: $event => $options.toggleFavorite(fruit.id)\n    }, _toDisplayString($options.isFavorite(fruit.id) ? 'Remove from favorites' : 'Add to favorites'), 9 /* TEXT, PROPS */, _hoisted_8)]);\n  }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"div\", null, [$data.page > 1 ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    onClick: _cache[2] || (_cache[2] = $event => $options.loadPage($data.page - 1))\n  }, \"Previous page\")) : _createCommentVNode(\"v-if\", true), $data.page < $data.totalPages ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 1,\n    onClick: _cache[3] || (_cache[3] = $event => $options.loadPage($data.page + 1))\n  }, \"Next page\")) : _createCommentVNode(\"v-if\", true)])]))]))]);\n}","map":{"version":3,"names":["_createElementVNode","for","_createElementBlock","_hoisted_1","$data","loading","_hoisted_2","_hoisted_3","_hoisted_4","type","id","filters","name","$event","_hoisted_5","family","fruits","length","_hoisted_6","_hoisted_7","_Fragment","_renderList","fruit","key","_toDisplayString","order","genus","nutritions","calories","fat","sugar","carbohydrates","protein","onClick","$options","toggleFavorite","isFavorite","_hoisted_8","page","_cache","loadPage","totalPages"],"sources":["/home/code4each/Projects/fruits/fruitsapp/src/components/FruitListing.vue"],"sourcesContent":["<template>\n  <div>\n    <h1>Fruits</h1>\n    <div v-if=\"loading\">Loading...</div>\n    <div v-else>\n      <div>\n        <label for=\"name\">Filter by name:</label>\n        <input type=\"text\" id=\"name\" v-model=\"filters.name\">\n      </div>\n      <div>\n        <label for=\"family\">Filter by family:</label>\n        <input type=\"text\" id=\"family\" v-model=\"filters.family\">\n      </div>\n      <div v-if=\"fruits.length === 0\">\n        No fruits found\n      </div>\n      <div v-else>\n        <div v-for=\"fruit in fruits\" :key=\"fruit.id\">\n          <h3>{{ fruit.name }}</h3>\n          <div>Family: {{ fruit.family }}</div>\n          <div>Order: {{ fruit.order }}</div>\n          <div>Genus: {{ fruit.genus }}</div>\n          <div>\n            Nutritions:\n            <ul>\n              <li>Calories: {{ fruit.nutritions.calories }}</li>\n              <li>Fat: {{ fruit.nutritions.fat }}</li>\n              <li>Sugar: {{ fruit.nutritions.sugar }}</li>\n              <li>Carbohydrates: {{ fruit.nutritions.carbohydrates }}</li>\n              <li>Protein: {{ fruit.nutritions.protein }}</li>\n            </ul>\n          </div>\n          <button @click=\"toggleFavorite(fruit.id)\">\n            {{ isFavorite(fruit.id) ? 'Remove from favorites' : 'Add to favorites' }}\n          </button>\n        </div>\n        <div>\n          <button v-if=\"page > 1\" @click=\"loadPage(page - 1)\">Previous page</button>\n          <button v-if=\"page < totalPages\" @click=\"loadPage(page + 1)\">Next page</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { API_URL } from '@/config.js';\n\nexport default {\n  name: 'FruitList',\n  data() {\n    return {\n      loading: true,\n      fruits: [],\n      filters: {\n        name: '',\n        family: '',\n      },\n      page: 1,\n      totalPages: 1,\n      favorites: [],\n      url: API_URL, // Define URL globally\n    }\n  },\n  methods: {\n    loadPage(page) {\n      this.loading = true\n      axios.get(`${this.url}/fruits`, {\n        params: {\n          page,\n          name: this.filters.name,\n          family: this.filters.family,\n        },\n      }).then(response => {\n        this.fruits = response.data.fruits\n        this.totalPages = response.data.totalPages\n        this.loading = false\n      }).catch(error => {\n        console.log(error)\n        this.loading = false\n      })\n    },\n    toggleFavorite(id) {\n      if (this.isFavorite(id)) {\n        this.favorites = this.favorites.filter(favoriteId => favoriteId !== id)\n      } else {\n        this.favorites.push(id)\n      }\n    },\n    isFavorite(id) {\n      return this.favorites.includes(id)\n    },\n  },\n  mounted() {\n    this.loadPage(this.page)\n  },\n}\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}